<div class="page-head">
  <div class="container">
    <div class="row">
      <div class="page-head-content">
        <h1 class="page-title">Super nice villa </h1>
      </div>
    </div>
  </div>
</div>
<!-- End page header -->

<!-- property area -->
<div class="content-area single-property" style="background-color: #FCFCFC;">&nbsp;
  <div class="container">

    <div class="clearfix padding-top-40">

      <div class="col-md-8 single-property-content prp-style-2">
        <div class="">
          <div class="row">
            <div class="light-slide-item">
              <div class="clearfix">
                <div class="favorite-and-print">
                  <a class="add-to-fav" href="#login-modal" data-toggle="modal">
                    <i class="fa fa-star-o"></i>
                  </a>
                  <a class="printer-icon " href="javascript:window.print()">
                    <i class="fa fa-print"></i>
                  </a>
                </div>
                <ul id="image-gallery" class="gallery list-unstyled">
                  <ng-container *ngFor="let i of images">
                    <li>
                      <img src="{{i.image}}" style="height: 500px" alt="{{apartment.name}}"/>
                    </li>
                  </ng-container>
                </ul>
              </div>
            </div>
          </div>
          <div class="single-property-wrapper">

            <div class="section">
              <h4 class="s-property-title">Description</h4>
              <div class="s-property-content">
                <p>{{apartment.description}}</p>
              </div>
            </div>
            <!-- End description area  -->

            <div class="section additional-details">

              <h4 class="s-property-title">Address</h4>

              <ul class="additional-details-list clearfix">
                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Province</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">{{apartment.ward.district.province.name}}</span>
                </li>

                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">District</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">{{apartment.ward.district.name}}</span>
                </li>
                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Ward</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">{{apartment.ward.name}}</span>
                </li>
                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Address</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry">{{apartment.address}}</span>
                </li>

              </ul>
            </div>
            <!-- End additional-details area  -->

            <div class="section additional-details">

              <h4 class="s-property-title">Additional Details</h4>

              <ul class="additional-details-list clearfix">
                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Vip Room</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry" *ngIf="apartment.vipRoom == 1"><img alt=""
                                                                                                           style="width: 20px; height: 20px"
                                                                                                           src="assets/img/true.png"></span>
                </li>

                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">luxury Room</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry" *ngIf="apartment.luxuryRoom == 1"><img alt=""
                                                                                                              style="width: 20px; height: 20px"
                                                                                                              src="assets/img/true.png"></span>
                </li>
                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Single Room</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry" *ngIf="apartment.singleRoom == 1"><img alt=""
                                                                                                              style="width: 20px; height: 20px"
                                                                                                              src="assets/img/true.png"></span>
                </li>

                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">Couple Room</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry" *ngIf="apartment.coupleRoom == 1"><img alt=""
                                                                                                              style="width: 20px; height: 20px"
                                                                                                              src="assets/img/true.png"></span>
                </li>

                <li>
                  <span class="col-xs-6 col-sm-4 col-md-4 add-d-title">President Room</span>
                  <span class="col-xs-6 col-sm-8 col-md-8 add-d-entry" *ngIf="apartment.presidentRoom == 1"><img alt=""
                                                                                                                 style="width: 20px; height: 20px"
                                                                                                                 src="assets/img/true.png"></span>
                </li>

              </ul>
            </div>
            <!-- End additional-details area  -->

            <div class="section property-features">

              <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
              <div class="row">
                <h3 class="pull-left s-property-title" style="color: #FFA500; font-size: 18px; margin-left: 10px">
                  Comments</h3>
                <button type="button" class="btn btn-normal pull-right" style="font-size: 16px; margin-top: 4px"
                        (click)="showHide()">{{isShow ? 'Hide Comments' : 'Show Comments'}}</button>
              </div>
              <div class="row" [ngClass]="{'hiddenContent': !isShow}">
                <section class="content-item" id="comments">
                  <div style="width: 700px; margin-left: 18px;">
                    <form method="GET" (ngSubmit)="submitComment()">
                      <h3 class="pull-left s-property-title" style="color: #FFA500; font-size: 18px">New
                        Comment{{comments.length > 1 ? 's' : ''}}</h3>
                      <button type="submit" class="btn btn-normal pull-right">Submit</button>
                      <fieldset>
                        <div class="row">
                          <div class="col-sm-3 col-lg-2 hidden-xs">
                            <img class="img-responsive" src="{{currentUser.avatar}}"
                                 style="width: 90px; padding: 0 ; height: 130px" alt="">
                          </div>
                          <div class="form-group col-xs-12 col-sm-9 col-lg-10">
                            <textarea class="form-control" [(ngModel)]="commentContent" name="commentContent"
                                      id="message" placeholder="Your message" required=""></textarea>
                          </div>
                        </div>
                      </fieldset>
                    </form>
                    <h3>{{comments.length}} comment{{comments.length > 1 ? 's' : ''}}</h3>
                    <!-- COMMENT 1 - START -->
                    <ng-container *ngFor="let comment of comments">
                      <div class="media">
                        <div class="row">
                          <div class="col-sm-2">
                            <a class="pull-left"><img class="media-object" style="width: 90px; height: 100px"
                                                      [src]="comment.user?.avatar" alt=""></a>
                          </div>
                          <div class="col-sm-10">
                            <div class="media-body">
                              <h4 class="media-heading"
                                  class="host"> {{comment.user?.name ? comment.user?.name : "Visitors"}} </h4>
                              <p>{{comment.content}}</p>
                              <ul class="list-unstyled list-inline media-detail pull-left">
                                <li><i class="fa fa-calendar"></i>{{comment.date | date:'fullDate'}}</li>
                              </ul>
                            </div>
                          </div>
                        </div>

                      </div>
                    </ng-container>
                    <!-- COMMENT 1 - END -->
                  </div>
                </section>
              </div>
            </div>
            <!-- End features area  -->

            <div class="section property-video">
              <h4 class="s-property-title">Property Video</h4>
              <div class="video-thumb">
                <a class="video-popup"  title="Virtual Tour">
                  <iframe style="width: 700px; height: 450px;" src="https://www.youtube.com/embed/KL3Z8zwaVOw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </a>
              </div>
            </div>
            <!-- End video area  -->

            <div class="section property-share">
              <h4 class="s-property-title">Share width your friends </h4>
              <div class="roperty-social">
                <ul>
                  <li><a title="Share this on dribbble " href="#"><img
                    src="assets/img/social_big/dribbble_grey.png"></a></li>
                  <li><a title="Share this on facebok " href="#"><img src="assets/img/social_big/facebook_grey.png"></a>
                  </li>
                  <li><a title="Share this on delicious " href="#"><img src="assets/img/social_big/delicious_grey.png"></a>
                  </li>
                  <li><a title="Share this on tumblr " href="#"><img src="assets/img/social_big/tumblr_grey.png"></a>
                  </li>
                  <li><a title="Share this on digg " href="#"><img src="assets/img/social_big/digg_grey.png"></a></li>
                  <li><a title="Share this on twitter " href="#"><img src="assets/img/social_big/twitter_grey.png"></a>
                  </li>
                  <li><a title="Share this on linkedin " href="#"><img
                    src="assets/img/social_big/linkedin_grey.png"></a></li>
                </ul>
              </div>
            </div>
            <!-- End video area  -->
          </div>
        </div>
      </div>

      <div class="col-md-4 p0">

        <aside class="sidebar sidebar-property blog-asside-right property-style2">
          <div class="dealer-widget">
            <div class="dealer-content">
              <div class="dealer-section-space">
                <span>Apartment Information</span>
              </div>
              <div class="inner-wrapper">
                <div class="single-property-header">
                  <h1 class="property-title">{{apartment.name}}</h1>
                  <span class="property-price">{{apartment.value | currency}}</span>
                </div>
                <span class="property-info-label">RATING: 0 </span><img src="assets/img/icon/star-icon.png" width="15"
                                                                        height="15" style="margin-bottom: 5px">
                <div class="property-meta entry-meta clearfix ">
                  <div class="col-xs-4 col-sm-4 col-md-4 p-b-15">
                    <span class="property-info-icon icon-bed">
                      <img src="assets/img/icon/bed-orange.png">
                    </span>
                    <span class="property-info-entry">
                      <span class="property-info-label">Bedrooms</span>
                      <span class="property-info-value">{{apartment.bedroom}}</span>
                    </span>
                  </div>
                  <div class="col-xs-4 col-sm-4 col-md-4 p-b-15">
                    <span class="property-info-icon icon-garage">
                      <img src="assets/img/icon/shawer-orange.png">
                    </span>
                    <span class="property-info-entry">
                      <span class="property-info-label">Bathrooms</span>
                      <span class="property-info-value">{{apartment.bathroom}}</span>
                    </span>
                  </div>


                </div>
                <div class="dealer-section-space">
                  <span>Dealer information</span>
                </div>
                <div class="clear">
                  <div class="col-xs-4 col-sm-4 dealer-face">
                    <a href="">
                      <img src="{{user.avatar}}" class="img-circle">
                    </a>
                  </div>
                  <div class="col-xs-8 col-sm-8 ">
                    <h3 class="dealer-name">
                      <a href="">{{user.name}}</a>
                    </h3>
                    <div class="dealer-social-media">
                      <a class="twitter" target="_blank" href="">
                        <i class="fa fa-twitter"></i>
                      </a>
                      <a class="facebook" target="_blank" href="">
                        <i class="fa fa-facebook"></i>
                      </a>
                      <a class="gplus" target="_blank" href="">
                        <i class="fa fa-google-plus"></i>
                      </a>
                      <a class="linkedin" target="_blank" href="">
                        <i class="fa fa-linkedin"></i>
                      </a>
                      <a class="instagram" target="_blank" href="">
                        <i class="fa fa-instagram"></i>
                      </a>
                    </div>

                  </div>
                </div>

                <div class="clear">
                  <ul class="dealer-contacts">
                    <li><i class="pe-7s-map-marker strong"> </i> {{user.address}}</li>
                    <li><i class="pe-7s-mail strong"> </i> {{user.email}}</li>
                    <li><i class="pe-7s-call strong"> </i> {{user.phoneNumber}}</li>
                  </ul>
                </div>

              </div>
            </div>
          </div>
          <div *ngIf="rents.length != 0" class="panel panel-default sidebar-menu wow fadeInRight animated">
            <div class="panel-heading">
              <h3 class="panel-title" style="margin-bottom: 20px">Lịch Đặt </h3>
              <div class="col-sm-12 content" style="height: 215px">
                <ng-container *ngFor="let rent of rents | paginate: { itemsPerPage: 2, currentPage: p }">
                  <div style=" margin-bottom: 10px;border-bottom: grey 1px solid; padding-bottom: 10px;">
                    <div><span
                      style="font-weight: bold; color: #777">Customer Name:</span><small>{{rent.user?.name}}</small>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <div><span
                          style="font-weight: bold; color: #777">Check in:</span><br>&nbsp;&nbsp;<small>{{rent.startDate | date:'mediumDate'}}</small>
                        </div>
                      </div>
                      <div class="col-sm-6">
                        <div><span
                          style="font-weight: bold; color: #777">Check out:</span><br>&nbsp;&nbsp;<small>{{rent.endDate | date:'mediumDate'}}</small>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </div>
              <small>
                <pagination-controls (pageChange)="p = $event" style="font-size: 10px;"></pagination-controls>
              </small>
            </div>
          </div>
          <div class="panel panel-default sidebar-menu wow fadeInRight animated"
               [ngClass]="{'hiddenContent' : currentUser?.id == user.id}">
            <div class="panel-heading">
              <h3 class="panel-title">Đặt Phòng </h3>
            </div>
            <form method="POST" (ngSubmit)="rentApartment()">
              {{message}}
              <div class="form-group">
                <label for="timeCheckIn">Check In: </label><br>
                <input type="text" id="timeCheckIn" name="checkIn" placeholder="Select a check-in date" class="form-control rentInput" style="float: left; width: 250px"/><img src="assets/img/lich.JPG" class="img-circle"style="width: 35px; height: 25px; float: left; margin-left: -40px; margin-top: 10px;">
              </div>
              <div class="form-group" style="margin-top: 50px">
                <label for="timeCheckOut">Check Out: </label><br>
                <input type="text" id="timeCheckOut" name="checkOut" placeholder="Select a check-out date" class="form-control rentInput" style="float: left; width: 250px"/><img src="assets/img/lich.JPG" class="img-circle" style="width: 35px; height: 25px; float: left; margin-left: -40px; margin-top: 10px;">
              </div>
              <hr>
              <button type="submit" class="btn btn-default" style="margin-top: 40px; margin-left: -130px">Rent</button>
            </form>
          </div>
        </aside>
        <script>
          function openForm() {
            document.getElementById("myForm").style.display = "block";
          }

          function closeForm() {
            document.getElementById("myForm").style.display = "none";
          }
        </script>
      </div>

    </div>

  </div>
</div>
